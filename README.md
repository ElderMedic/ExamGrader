# ExamGrader

????????? vLLM ????????????? DeepSeek-OCR ????????????

## ????

- `mss` ??????????????????????????
- `build_prompt_text` ?????????????????????????? JSON ????????
- Typer CLI?`exam-grader once` ?????`exam-grader loop` ?????????????????
- ?????`tests/test_prompt.py` ????????????????????

## ????

```bash
pip install -e .

exam-grader once --model deepseek-ai/deepseek-ocr --x 120 --y 80 --width 1024 --height 768 \
  --question-file data/question.md --reference-file data/reference.md --max-score 6

exam-grader loop --interval 10 --output-dir snapshots --limit 3
```

- `--limit` ???????????????????
- `--question-text` ? `--reference-text` ???????????????????

## Docker ????

```bash
docker build -t exam-grader .

# ?? GPU ????????????? X11 ??
docker run --rm -it --gpus all \
  -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix \
  -v $PWD/snapshots:/app/snapshots \
  exam-grader exam-grader loop --interval 10 --output-dir snapshots
```

- ???? `nvidia/cuda:12.1-runtime`???????????? NVIDIA ????? Docker GPU ???
- ?????????????? Wayland ????????????? DISPLAY/?????????

## ??

```bash
pytest
```

??????????????????????????
