from grader.vllm_client import GradingRequest, build_prompt_text


def test_build_prompt_text_includes_reference_and_question():
    request = GradingRequest(
        image=None,  # type: ignore[arg-type]
        question="????????????????",
        reference_answer="- ????????\n- ??????",
        max_score=6.0,
        extra_instructions="????????????????",
    )

    prompt = build_prompt_text(request)

    assert "????" in prompt
    assert "????" in prompt
    assert "????" in prompt
